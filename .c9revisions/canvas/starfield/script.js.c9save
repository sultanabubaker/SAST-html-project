{"ts":1345644358909,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var canvas = document.getElementById(\"canvas\");\nvar c = canvas.getContext(\"2d\");\n\nfunction drawClock() {\n    // clear the background\n    c.fillStyle = 'lightgray';\n    c.fillRect(0, 0, canvas.width, canvas.height);\n    \n    // Get the current time\n    var now = new Date(),\n        h = now.getHours(),\n        m = now.getMinutes(),\n        s = now.getSeconds(),\n        ampm = (h < 12 ? 'AM' : 'PM');\n\n    // Make the hour between 0 and 12 (not 24)\n    h = (h % 12);\n\n    // Make values like '5' into '05'\n    h = addLeadingZeroWhenNecessary(h);\n    m = addLeadingZeroWhenNecessary(m);\n    s = addLeadingZeroWhenNecessary(s);\n    \n    // Assemble the text\n    var clockText = h + ':' + m + ':' + s + ' ' + ampm,\n        x = 10,\n        y = 60;\n    \n    // This green color was picked\n    // using http://jscolor.com/\n    c.fillStyle = '#00DB84';\n    \n    // Draw the text\n    c.font = '50pt Arial';\n    c.strokeStyle = 'black';\n    c.fillText(clockText, x, y);\n    c.strokeText(clockText, x, y);\n}\n\nfunction addLeadingZeroWhenNecessary(s){\n    return (s < 10 ? '0' : '') + s;\n}\n\n// Draw the clock right away\ndrawClock();\n\n// Then draw the clock every subsequent second\nsetInterval(drawClock, 1000);"]],"start1":0,"start2":0,"length1":0,"length2":1198}]],"length":1198}
{"contributors":[],"silentsave":false,"ts":1345644364879,"patch":[[{"diffs":[[1,"\n"],[0,"var canvas ="]],"start1":0,"start2":0,"length1":12,"length2":13},{"diffs":[[0,");\n\n"],[-1,"function drawClock() {\n    // clear the background\n    c.fillStyle = 'lightgray';\n    c.fillRect(0, 0, canvas.width,"],[1,"var numStars = 1000;\nvar radius = 1;\nvar focalLength = canvas.width;\n\nvar centerX, centerY;\n\nvar stars = [], star;\nvar i;\n\nvar animate = false;\n\ninitializeStars();\n\nfunction executeFrame(){\n  if(animate)\n    setTimeout(executeFrame, 20);\n  moveStars();\n  drawStars();\n}\n\nfunction initializeStars(){\n  centerX = canvas.width / 2;\n  centerY ="],[0," can"]],"start1":79,"start2":79,"length1":124,"length2":348},{"diffs":[[0,"ight"],[-1,")"],[1," / 2"],[0,";\n  "],[1,"\n"],[0,"  "],[-1,"\n    // Get the current time"],[1,"stars = [];\n  for(i = 0; i < numStars; i++){"],[0,"\n    "],[-1,"var now = new Date(),\n        h = now.getHours(),\n        m = now.getMinutes(),"],[1,"star = {\n      x: Math.random() * canvas.width,\n      y: Math.random() * canvas.height,\n      z: Math.random() * canvas.width"],[0,"\n    "],[1,"};\n"],[0,"    s"],[-1," = now.getSeconds(),\n        ampm = (h < 12 ? 'AM' : 'PM')"],[1,"tars.push(star);\n  }\n}\n\nfunction moveStars(){\n  for(i = 0; i < numStars; i++){\n    star = stars[i]"],[0,";\n"],[-1,"\n"],[0,"    "],[-1,"// Make the hour between 0 and 12 (not 24)\n    h = (h % 12);\n\n    // Make values like '5' into '05'\n    h = addLeadingZeroWhenNecessary(h);"],[1,"star.z--;\n    \n    if(star.z <= 0){\n      star.z = canvas.width;\n    }\n  }\n}\n\nfunction drawStars(){\n  var pixelX, pixelY, pixelRadius;\n  \n  // Resize to the screen\n  if(canvas.width != window.innerWidth || canvas.width != window.innerWidth){"],[0,"\n    "],[-1,"m = addLeadingZeroWhenNecessary(m);\n    s = addLeadingZeroWhenNecessary(s"],[1,"canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n    initializeStars("],[0,");\n  "],[1,"}\n"],[0,"  \n  "],[-1,"  // Assemble the text\n    var clockText = h + ':' + m + ':' + s + ' ' + ampm,"],[1,"c.fillStyle = \"black\";\n  c.fillRect(0,0, canvas.width, canvas.height);\n  c.fillStyle = \"white\";\n  for(i = 0; i < numStars; i++){\n    star = stars[i];"],[0,"\n    "],[1,"\n"],[0,"    "],[-1,"x = 10,\n        y = 60;\n    \n    // This green color was picked\n    // using http://jscolor.com/\n    c.fillStyle = '#00DB84';\n    \n    // Draw the text\n    c.font = '50pt Arial';\n    c.strokeStyle = 'black';\n    c.fillText(clockText, x, y);\n    c.strokeText(clockText, x, y);\n}\n\nfunction addLeadingZeroWhenNecessary(s){\n    return (s < 10 ? '0' : '') + s"],[1,"pixelX = (star.x - centerX) * (focalLength / star.z);\n    pixelX += centerX;\n    pixelY = (star.y - centerY) * (focalLength / star.z);\n    pixelY += centerY;\n    pixelRadius = radius * (focalLength / star.z);\n    \n    c.beginPath();\n    c.arc(pixelX, pixelY, pixelRadius, 0, 2 * Math.PI);\n    c.fill();\n  }\n}\n\ncanvas.addEventListener(\"mousemove\",function(e){\n  focalLength = e.x;\n});\n\n// Kick off the animation when the mouse enters the canvas\ncanvas.addEventListener('mouseover', function(e){\n  animate = true;\n  executeFrame()"],[0,";\n}"],[1,");"],[0,"\n\n// "],[-1,"Draw the clock right away\ndrawClock("],[1,"Pause animation when the mouse exits the canvas\ncanvas.addEventListener(\"mouseout\",function(e){\n  mouseDown = false;\n  animate = false;\n}"],[0,");\n\n// "],[-1,"Then d"],[1,"D"],[0,"raw the "],[-1,"clock every subsequent second\nsetInterval(drawClock, 1000"],[1,"first frame to start animation\nexecuteFrame("],[0,");"]],"start1":433,"start2":433,"length1":990,"length2":1554}]],"length":1987,"saved":false}
